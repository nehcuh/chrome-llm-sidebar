# Agentic 模式 - 产品需求文档

## 1. 愿景

创建一个轻量级的、存在于浏览器扩展内部的 Agentic 模式，允许用户通过自然语言指令与浏览器进行交互，即使在未配置 MCP 的情况下也能提供增强的用户体验。

## 2. 产品阶段

### Phase 1: MVP (最小可行产品) - 基础浏览器控制

**目标**: 实现最核心、最基础的浏览器级别操作，验证 Agentic 模式的核心工作流程。此阶段的指令识别将基于简单的关键词匹配。

**核心需求**:

*   **网页刷新**: 用户可以通过 "刷新页面", "reload" 等指令刷新当前标签页。
*   **新建标签页**: 用户可以通过 "打开新页面", "new tab" 等指令创建一个新的标签页。
*   **关闭标签页**: 用户可以通过 "关闭当前页面", "close tab" 等指令关闭当前的活动标签页。
*   **页面导航**: 用户可以通过 "访问 google.com", "go to github.com" 等指令在当前标签页导航到指定 URL。

### Phase 2: 核心 DOM 交互

**目标**: 赋予 Agent 理解和操作页面内容的能力，实现与网页元素的直接交互。此阶段将采用启发式方法（基于文本、ID、ARIA 标签等）来识别元素。

**核心需求**:

*   **元素点击**: 用户可以通过 "点击'登录'按钮", "click the 'submit' button" 等指令点击页面上的可交互元素（如按钮、链接）。
*   **文本输入**: 用户可以通过 "在搜索框里输入'Agentic AI'", "type 'hello world' in the username field" 等指令在指定的输入框中填入文本。
*   **页面滚动**: 用户可以通过 "滚动到底部", "scroll to top" 等指令控制页面滚动。

### Phase 3: 高级 Agentic 能力 (未来展望)

**目标**: 引入更高级的智能，使 Agent 能够处理更复杂、多步骤的任务，并具备更强的页面理解能力。

**核心需求**:

*   **LLM 辅助的元素识别**: 对于复杂的页面，可以将简化的 DOM 结构发送给 LLM，以换取一个精确的 CSS 选择器或 XPath，从而实现更鲁棒的元素定位。
*   **信息提取与总结**: 用户可以要求 "总结当前页面的内容", "提取页面上的所有链接" 等。
*   **多步骤任务执行**: Agent 能够理解并执行连续的指令，例如 "在 google.com 搜索'chrome extension docs'，然后点击第一个搜索结果"。
*   **状态管理**: Agent 需要维护一个简单的状态机，以跟���多步骤任务的执行进度。
