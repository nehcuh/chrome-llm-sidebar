# 安装和测试指南

## 安装步骤

1. **下载项目代码**
   - 确保所有文件都在 `simple-ai-copilot` 目录中

2. **在Chrome中加载扩展**
   - 打开Chrome浏览器
   - 访问 `chrome://extensions/`
   - 开启右上角的"开发者模式"
   - 点击"加载已解压的扩展程序"
   - 选择 `simple-ai-copilot` 文件夹

3. **验证安装**
   - 确认扩展出现在扩展列表中
   - 点击扩展图标应该能看到弹出窗口

## 测试功能

### 基础功能测试

1. **打开侧边栏**
   - 点击扩展图标
   - 点击"打开侧边栏"按钮
   - 验证侧边栏是否正确显示

2. **配置API设置**
   - 在侧边栏中点击设置按钮
   - 输入API URL（如：`https://api.openai.com/v1`）
   - 输入有效的API Key
   - 调整Temperature滑块
   - 输入模型名称（如：`gpt-3.5-turbo`）
   - 点击"保存"

3. **测试聊天功能**
   - 在输入框中输入消息
   - 点击发送按钮
   - 验证AI回复是否正常显示

### 高级功能测试

4. **测试网络搜索**
   - 勾选"启用网络搜索"
   - 输入带有搜索意图的消息（如："搜索最新的AI新闻"）
   - 验证是否包含搜索结果

5. **测试MCP功能**
   - 在设置中查看MCP服务器列表
   - 尝试启用filesystem或web-search服务器
   - 测试相关功能是否正常

## 常见问题排查

### 问题1：侧边栏无法打开
- 检查manifest.json权限配置
- 确认Chrome版本支持sidePanel API

### 问题2：API调用失败
- 验证API URL和Key的正确性
- 检查网络连接
- 查看开发者工具的错误信息

### 问题3：搜索功能不工作
- 检查网络连接
- 查看控制台是否有CORS错误
- 确认搜索服务API可用性

### 问题4：MCP服务器连接失败
- 当前版本提供模拟MCP功能
- 实际MCP连接需要Native Messaging支持

## 开发调试

1. **查看日志**
   - 右键扩展图标 → "检查弹出窗口"
   - 侧边栏中按F12打开开发者工具
   - 在 `chrome://extensions/` 中点击"背景页"查看后台日志

2. **修改代码后重新加载**
   - 在 `chrome://extensions/` 中点击刷新按钮
   - 重新打开侧边栏测试修改

## 性能优化建议

1. **减少API调用频率**
2. **实现消息缓存**
3. **优化搜索结果处理**
4. **添加错误重试机制**

## 下一步开发计划

- [ ] 完善Native Messaging支持真实MCP连接
- [ ] 添加更多搜索引擎支持
- [ ] 实现聊天记录持久化
- [ ] 添加快捷键支持
- [ ] 优化移动端适配